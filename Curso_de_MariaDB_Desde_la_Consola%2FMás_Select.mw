__NOTOC__
* [[:#Más Select | M'as Select]]

= Más Select =

<syntaxhighlight lang="sql" line="GESHI_FANCY_LINE_NUMBERS">

MariaDB [Prueba1]> show databases;
+--------------------+I
| Database           |
+--------------------+
| Prueba1            |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
4 rows in set (0.01 sec)

MariaDB [Prueba1]> show tables;
+-------------------+
| Tables_in_Prueba1 |
+-------------------+
| Competiciones     |
| inven             |
| personas          |
+-------------------+
3 rows in set (0.00 sec)

MariaDB [Prueba1]> select * from inven;
+----+-------------+-----------------------+--------+----------+
| id | nombre      | descrip               | precio | cantidad |
+----+-------------+-----------------------+--------+----------+
|  1 | Manzanas    | Mediano Granny-Smith. |   0.25 |     1000 |
|  2 | Uvas        | Sin Semillas          |   2.99 |      500 |
|  3 | Agua        | Bot. - 250 ml.        |   0.89 |      259 |
|  4 | AguaMineral | Bot. - 600 ml.        |    0.5 |      350 |
|  5 | Platanos    | Machos                |      6 |       25 |
+----+-------------+-----------------------+--------+----------+
5 rows in set (0.02 sec)

MariaDB [Prueba1]> select * from inven where precio
    ->         between 1.0 and 3.00;
+----+--------+--------------+--------+----------+
| id | nombre | descrip      | precio | cantidad |
+----+--------+--------------+--------+----------+
|  2 | Uvas   | Sin Semillas |   2.99 |      500 |
+----+--------+--------------+--------+----------+
1 row in set (0.00 sec)

MariaDB [Prueba1]> select * from inven where precio
    ->         between 1 and 3;
+----+--------+--------------+--------+----------+
| id | nombre | descrip      | precio | cantidad |
+----+--------+--------------+--------+----------+
|  2 | Uvas   | Sin Semillas |   2.99 |      500 |
+----+--------+--------------+--------+----------+
1 row in set (0.00 sec)

MariaDB [Prueba1]> select * from inven where nombre like 'M%';
+----+----------+-----------------------+--------+----------+
| id | nombre   | descrip               | precio | cantidad |
+----+----------+-----------------------+--------+----------+
|  1 | Manzanas | Mediano Granny-Smith. |   0.25 |     1000 |
+----+----------+-----------------------+--------+----------+
1 row in set (0.00 sec)

MariaDB [Prueba1]> select * from inven where nombre like 'm%';
+----+----------+-----------------------+--------+----------+
| id | nombre   | descrip               | precio | cantidad |
+----+----------+-----------------------+--------+----------+
|  1 | Manzanas | Mediano Granny-Smith. |   0.25 |     1000 |
+----+----------+-----------------------+--------+----------+
1 row in set (0.00 sec)

MariaDB [Prueba1]> create table fruta ( id int not null primary key auto_increment,
    ->                      nombre varchar (50) not null );
Query OK, 0 rows affected (0.26 sec)

MariaDB [Prueba1]> insert into fruta values ( NULL, 'Manzanas' );
Query OK, 1 row affected (0.05 sec)

MariaDB [Prueba1]> insert into fruta values ( NULL, 'Naranjas' );
Query OK, 1 row affected (0.03 sec)

MariaDB [Prueba1]> insert into fruta values ( NULL, 'Uvas' );
Query OK, 1 row affected (0.07 sec)

MariaDB [Prueba1]> insert into fruta values ( NULL, 'Platanos' );
Query OK, 1 row affected (0.07 sec)

MariaDB [Prueba1]> select * from fruta;
+----+----------+
| id | nombre   |
+----+----------+
|  1 | Manzanas |
|  2 | Naranjas |
|  3 | Uvas     |
|  4 | Platanos |
+----+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> create table color ( id int not null primary key auto_increment,
    ->                      nombre varchar (50) not null );
Query OK, 0 rows affected (0.25 sec)

MariaDB [Prueba1]> show tables;
+-------------------+
| Tables_in_Prueba1 |
+-------------------+
| Competiciones     |
| color             |
| fruta             |
| inven             |
| personas          |
+-------------------+
5 rows in set (0.00 sec)

MariaDB [Prueba1]> insert into color values ( NULL, 'Rojo' );
Query OK, 1 row affected (0.06 sec)

MariaDB [Prueba1]> insert into color values ( NULL, 'naranja' );
Query OK, 1 row affected (0.04 sec)

MariaDB [Prueba1]> insert into color values ( NULL, 'Purpura' );
Query OK, 1 row affected (0.07 sec)

MariaDB [Prueba1]> insert into color values ( NULL, 'Amarillo' );
Query OK, 1 row affected (0.07 sec)

MariaDB [Prueba1]> select * from color;
+----+----------+
| id | nombre   |
+----+----------+
|  1 | Rojo     |
|  2 | naranja  |
|  3 | Purpura  |
|  4 | Amarillo |
+----+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> select * from fruta, color;
+----+----------+----+----------+
| id | nombre   | id | nombre   |
+----+----------+----+----------+
|  1 | Manzanas |  1 | Rojo     |
|  2 | Naranjas |  1 | Rojo     |
|  3 | Uvas     |  1 | Rojo     |
|  4 | Platanos |  1 | Rojo     |
|  1 | Manzanas |  2 | naranja  |
|  2 | Naranjas |  2 | naranja  |
|  3 | Uvas     |  2 | naranja  |
|  4 | Platanos |  2 | naranja  |
|  1 | Manzanas |  3 | Purpura  |
|  2 | Naranjas |  3 | Purpura  |
|  3 | Uvas     |  3 | Purpura  |
|  4 | Platanos |  3 | Purpura  |
|  1 | Manzanas |  4 | Amarillo |
|  2 | Naranjas |  4 | Amarillo |
|  3 | Uvas     |  4 | Amarillo |
|  4 | Platanos |  4 | Amarillo |
+----+----------+----+----------+
16 rows in set (0.00 sec)

MariaDB [Prueba1]> select fruta.id, fruta.nombre, color.nombre from fruta, color
    ->          where fruta.id = color.id;
+----+----------+----------+
| id | nombre   | nombre   |
+----+----------+----------+
|  1 | Manzanas | Rojo     |
|  2 | Naranjas | naranja  |
|  3 | Uvas     | Purpura  |
|  4 | Platanos | Amarillo |
+----+----------+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> select fruta.id, fruta.nombre, color.nombre from fruta, color
    ->          where fruta.id = color.id;
+----+----------+----------+
| id | nombre   | nombre   |
+----+----------+----------+
|  1 | Manzanas | Rojo     |
|  2 | Naranjas | naranja  |
|  3 | Uvas     | Purpura  |
|  4 | Platanos | Amarillo |
+----+----------+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> create table Est_fruta ( id int not null primary key auto_increment,
    ->                      nombre varchar (50) not null,
    ->                      estado varchar (15) not null );
Query OK, 0 rows affected (0.22 sec)

MariaDB [Prueba1]> insert into Est_fruta values ( NULL, 'Manzanas', 'Maduro' );
Query OK, 1 row affected (0.04 sec)

MariaDB [Prueba1]> insert into Est_fruta values ( NULL, 'Naranjas' , 'Podrido' );
Query OK, 1 row affected (0.03 sec)

MariaDB [Prueba1]> insert into Est_fruta values ( NULL, 'Uvas' , 'Maduro' );
Query OK, 1 row affected (0.07 sec)

MariaDB [Prueba1]> insert into Est_fruta values ( NULL, 'Platanos' , 'Podrido' );
Query OK, 1 row affected (0.06 sec)

MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+---------+
| id | nombre   | estado  |
+----+----------+---------+
|  1 | Manzanas | Maduro  |
|  2 | Naranjas | Podrido |
|  3 | Uvas     | Maduro  |
|  4 | Platanos | Podrido |
+----+----------+---------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> update Est_fruta set estado = 'Maduro';
Query OK, 2 rows affected (0.06 sec)
Rows matched: 4  Changed: 2  Warnings: 0

MariaDB [Prueba1]> update Est_fruta set estado = 'Maduro';
Query OK, 0 rows affected (0.03 sec)
Rows matched: 4  Changed: 0  Warnings: 0

MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+--------+
| id | nombre   | estado |
+----+----------+--------+
|  1 | Manzanas | Maduro |
|  2 | Naranjas | Maduro |
|  3 | Uvas     | Maduro |
|  4 | Platanos | Maduro |
+----+----------+--------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> insert into Est_fruta values ( NULL, 'Sandilla' , 'Maduro' );
Query OK, 1 row affected (0.05 sec)

MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+--------+
| id | nombre   | estado |
+----+----------+--------+
|  1 | Manzanas | Maduro |
|  2 | Naranjas | Maduro |
|  3 | Uvas     | Maduro |
|  4 | Platanos | Maduro |
|  5 | Sandilla | Maduro |
+----+----------+--------+
5 rows in set (0.01 sec)

MariaDB [Prueba1]> update Est_fruta set nombre = 'Sandia' where nombre = 'Sandilla'; 
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+--------+
| id | nombre   | estado |
+----+----------+--------+
|  1 | Manzanas | Maduro |
|  2 | Naranjas | Maduro |
|  3 | Uvas     | Maduro |
|  4 | Platanos | Maduro |
|  5 | Sandia   | Maduro |
+----+----------+--------+
5 rows in set (0.00 sec)

MariaDB [Prueba1]> select * from Inv_fruta;
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> 
MariaDB [Prueba1]> update Inv_fruta set cantidad = cantidad - 1 where id = 1;
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Inv_fruta;
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> 
MariaDB [Prueba1]> replace into Inv_fruta values ( 3, 'Uvas', 'Purple', 12.0, 15 );
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Inv_fruta;
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> 
MariaDB [Prueba1]> replace into Inv_fruta values ( 5, 'Manzanas', 'Verde', 5.0, 60 );
ERROR 1146 (42S02): Table 'Prueba1.Inv_fruta' doesn't exist
MariaDB [Prueba1]> create table Inv_fruta ( id int not null primary key auto_increment,
    ->                      nombre varchar (50) not null,
    ->                      color varchar (15) not null,
    ->                      precio float not null,
    ->                      cantidad int not null );
Query OK, 0 rows affected (0.26 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> insert into Inv_fruta values ( NULL, 'Manzanas', 'Rojo', 5.0, 25 );
Query OK, 1 row affected (0.04 sec)

MariaDB [Prueba1]> insert into Inv_fruta values ( NULL, 'Naranjas' , 'Anaranja' , 7.5, 44 );
Query OK, 1 row affected (0.04 sec)

MariaDB [Prueba1]> insert into Inv_fruta values ( NULL, 'Uvas' , 'Verde' , 12.5, 15 );
Query OK, 1 row affected (0.09 sec)

MariaDB [Prueba1]> insert into Inv_fruta values ( NULL, 'Platanos' , 'Amarillo' , 1.5, 36 );
Query OK, 1 row affected (0.09 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Inv_fruta;
+----+----------+----------+--------+----------+
| id | nombre   | color    | precio | cantidad |
+----+----------+----------+--------+----------+
|  1 | Manzanas | Rojo     |      5 |       25 |
|  2 | Naranjas | Anaranja |    7.5 |       44 |
|  3 | Uvas     | Verde    |   12.5 |       15 |
|  4 | Platanos | Amarillo |    1.5 |       36 |
+----+----------+----------+--------+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> update Inv_fruta set cantidad = cantidad - 1 where id = 1;
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Inv_fruta;
+----+----------+----------+--------+----------+
| id | nombre   | color    | precio | cantidad |
+----+----------+----------+--------+----------+
|  1 | Manzanas | Rojo     |      5 |       24 |
|  2 | Naranjas | Anaranja |    7.5 |       44 |
|  3 | Uvas     | Verde    |   12.5 |       15 |
|  4 | Platanos | Amarillo |    1.5 |       36 |
+----+----------+----------+--------+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> replace into Inv_fruta values ( 3, 'Uvas', 'Purple', 12.0, 15 );
Query OK, 2 rows affected (0.05 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Inv_fruta;
+----+----------+----------+--------+----------+
| id | nombre   | color    | precio | cantidad |
+----+----------+----------+--------+----------+
|  1 | Manzanas | Rojo     |      5 |       24 |
|  2 | Naranjas | Anaranja |    7.5 |       44 |
|  3 | Uvas     | Purple   |     12 |       15 |
|  4 | Platanos | Amarillo |    1.5 |       36 |
+----+----------+----------+--------+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> replace into Inv_fruta values ( 5, 'Manzanas', 'Verde', 5.0, 60 );
Query OK, 1 row affected (0.04 sec)

MariaDB [Prueba1]> select * from color;
+----+----------+
| id | nombre   |
+----+----------+
|  1 | Rojo     |
|  2 | naranja  |
|  3 | Purpura  |
|  4 | Amarillo |
+----+----------+
4 rows in set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> delete from color;
Query OK, 4 rows affected (0.07 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from color;
Empty set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Est_fruta;
MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+--------+
| id | nombre   | estado |
+----+----------+--------+
|  1 | Manzanas | Maduro |
|  2 | Naranjas | Maduro |
|  3 | Uvas     | Maduro |
|  4 | Platanos | Maduro |
|  5 | Sandia   | Maduro |
+----+----------+--------+
5 rows in set (0.00 sec)


MariaDB [Prueba1]> 
MariaDB [Prueba1]> update Est_fruta set estado = 'Podrido' where id = 3;
Query OK, 1 row affected (0.07 sec)
Rows matched: 1  Changed: 1  Warnings: 0

MariaDB [Prueba1]> select * from Est_fruta;
+----+----------+---------+
| id | nombre   | estado  |
+----+----------+---------+
|  1 | Manzanas | Maduro  |
|  2 | Naranjas | Maduro  |
|  3 | Uvas     | Podrido |
|  4 | Platanos | Maduro  |
|  5 | Sandia   | Maduro  |
+----+----------+---------+
5 rows in set (0.00 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> delete from Est_fruta where estado = 'Podrido';
Query OK, 1 row affected (0.03 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> seMariaDB [Prueba1]> select * from Est_fruta;
+----+----------+--------+
| id | nombre   | estado |
+----+----------+--------+
|  1 | Manzanas | Maduro |
|  2 | Naranjas | Maduro |
|  4 | Platanos | Maduro |
|  5 | Sandia   | Maduro |
+----+----------+--------+
4 rows in set (0.00 sec)


MariaDB [Prueba1]> 
MariaDB [Prueba1]> 
MariaDB [Prueba1]> create table Log ( id int not null primary key auto_increment,
    ->                      Fecha datetime not null,
    ->                      nombre varchar (15) not null );
Query OK, 0 rows affected (0.29 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> insert into Log values ( NULL, NOW(), 'jruiz' );
Query OK, 1 row affected (0.05 sec)

MariaDB [Prueba1]> 
MariaDB [Prueba1]> select * from Log;
+----+---------------------+--------+
| id | Fecha               | nombre |
+----+---------------------+--------+
|  1 | 2015-10-23 12:20:21 | jruiz  |
+----+---------------------+--------+
1 row in set (0.00 sec)


</syntaxhighlight>

[[Category:MariaDB Desde la Consola]]
[[Category: CursoMatiaDB]]
